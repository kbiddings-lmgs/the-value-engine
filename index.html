<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Value Engine | Cloudflare</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        :root {
            --cf-orange: #F38020;
            --cf-blue: #0051C3;
            --cf-dark: #050505;
            --cf-deep-navy: #0F172A;
            --cf-bg: #F9FAFB;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--cf-bg);
            color: #111827;
            scroll-behavior: smooth;
        }

        .hero-banner {
            background-image: url('/images/hero-banner.png');
            background-size: cover;
            background-position: center;
            background-color: #050505;
            position: relative;
            overflow: hidden;
        }

        .section-tab.active {
            background-color: white;
            color: var(--cf-dark);
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .phase-tab.active-selling {
            border-bottom: 3px solid var(--cf-orange);
            color: var(--cf-orange);
            background: white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        }

        .phase-tab.active-realization {
            border-bottom: 3px solid var(--cf-blue);
            color: var(--cf-blue);
            background: white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        }

        .busy-seller-move {
            background: linear-gradient(to right, #FFF7ED, #FFFFFF);
            border-left: 3px solid var(--cf-orange);
        }

        .checklist-item input:checked + span {
            text-decoration: line-through;
            color: #9CA3AF;
        }

        #onboarding-content {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            max-height: 0;
            overflow: hidden;
            opacity: 0;
        }

        #onboarding-content.open {
            max-height: 1400px;
            opacity: 1;
            margin-top: 1.5rem;
        }

        .onboarding-page { display: none; }
        .onboarding-page.active { display: block; animation: fadeIn 0.4s ease-out forwards; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .animate-fade-in { animation: fadeIn 0.4s ease-out forwards; }

        .support-fab {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 100;
        }

        .btn-cf-primary {
            background-color: var(--cf-orange);
            color: white;
            transition: all 0.2s ease;
        }
        .btn-cf-primary:hover {
            background-color: #E6761B;
        }

        .btn-cf-realization {
            background-color: var(--cf-blue);
            color: white;
            transition: all 0.2s ease;
        }
        .btn-cf-realization:hover {
            background-color: #0044A3;
        }
    </style>
</head>
<body class="min-h-screen">

    <!-- FLOATING SUPPORT BUTTON -->
    <div class="support-fab">
        <button onclick="toggleSupportMenu()" class="bg-orange-600 hover:bg-orange-700 text-white p-3 rounded-full shadow-lg transition-all flex items-center gap-3 group">
            <span class="max-w-0 overflow-hidden group-hover:max-w-xs transition-all duration-500 whitespace-nowrap font-bold text-sm">Help & Feedback</span>
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"/></svg>
        </button>
        <div id="support-menu" class="absolute bottom-16 right-0 w-64 bg-white rounded-lg shadow-xl border border-gray-200 p-4 hidden animate-fade-in">
            <p class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-4">Support Hub</p>
            <div class="space-y-2">
                <a href="#" class="flex items-center gap-3 p-2 rounded-md hover:bg-orange-50 transition-colors group">
                    <div class="p-1.5 bg-orange-100 text-orange-600 rounded group-hover:bg-orange-600 group-hover:text-white transition-all">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M22.6,4.7c-0.3-0.5-0.8-0.8-1.4-0.8H2.8C2.2,3.9,1.7,4.2,1.4,4.7c-0.3,0.5-0.3,1.1,0,1.6l8.8,12.8c0.4,0.6,1.1,1,1.8,1s1.4-0.4,1.8-1l8.8-12.8C22.9,5.8,22.9,5.2,22.6,4.7z"/></svg>
                    </div>
                    <span class="text-sm font-semibold text-gray-700">#value-engine</span>
                </a>
                <a href="#" class="flex items-center gap-3 p-2 rounded-md hover:bg-blue-50 transition-colors group">
                    <div class="p-1.5 bg-blue-100 text-blue-600 rounded group-hover:bg-blue-600 group-hover:text-white transition-all">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/></svg>
                    </div>
                    <span class="text-sm font-semibold text-gray-700">Help Center</span>
                </a>
            </div>
        </div>
    </div>

    <!-- HERO SECTION -->
    <header class="hero-banner text-white text-center py-12 md:py-16 px-4 shadow-xl">
        <div class="max-w-5xl mx-auto relative z-10">
            <h1 class="text-3xl md:text-5xl font-extrabold mb-4 tracking-tight">
                The Value Engine
            </h1>
            <p class="text-lg md:text-xl text-gray-300 max-w-3xl mx-auto font-medium leading-relaxed">
                Your unified hub for AI-powered value-selling. <br>
                Accelerating deals from pipe to <span class="text-orange-500 font-bold">Closed Won</span>.
            </p>
        </div>
    </header>

    <main class="max-w-6xl mx-auto px-4 -mt-6 mb-20 relative z-20">
        
        <!-- MASTER SECTION TOGGLE -->
        <nav class="bg-gray-900/10 backdrop-blur-md p-1 rounded-lg flex gap-1 mb-8 max-w-md mx-auto border border-white/10 shadow-sm">
            <button onclick="switchSection('selling')" id="sec-selling" class="section-tab active flex-1 py-2.5 px-4 rounded text-sm font-bold transition-all">
                Value Selling
            </button>
            <button onclick="switchSection('realization')" id="sec-realization" class="section-tab flex-1 py-2.5 px-4 rounded text-sm font-bold text-gray-500 hover:text-gray-900 transition-all">
                Value Realization
            </button>
        </nav>

        <!-- MULTI-PAGE COLLAPSIBLE ONBOARDING -->
        <section class="bg-white rounded-xl shadow-md p-6 md:p-8 mb-8 value-thread-card border border-gray-200">
            <div class="flex items-center justify-between cursor-pointer group" onclick="toggleOnboarding()">
                <div class="flex items-center gap-4">
                    <div class="p-2 bg-orange-50 rounded text-orange-500 transition-transform">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    </div>
                    <div>
                        <h2 class="text-xl font-extrabold text-gray-900 flex items-center gap-3">
                            New to the Value Engine?
                        </h2>
                        <p class="text-gray-500 text-sm">Grasp the Why, What, and How in 3 steps.</p>
                    </div>
                </div>
                <div class="flex items-center gap-4">
                    <button id="onboarding-toggle-btn" class="bg-gray-50 hover:bg-orange-50 text-gray-400 hover:text-orange-600 transition-all p-2 rounded">
                        <svg id="toggle-icon" class="w-5 h-5 transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                    </button>
                </div>
            </div>

            <div id="onboarding-content">
                <div class="relative min-h-[460px]">
                    <!-- PAGE 1: THE WHY -->
                    <div id="ob-page-1" class="onboarding-page active space-y-6">
                        <div class="border-t border-gray-100 pt-6">
                            <h3 class="text-orange-600 text-xs font-extrabold uppercase tracking-widest mb-4">Step 01: The Core Philosophy</h3>
                            <p class="text-sm text-gray-700 leading-relaxed max-w-5xl mb-6">
                                Most deals fail because customers don't see a reason to move. To win, you must prove that staying the same is riskier than evolving with Cloudflare. The Value Engine helps you build that case, using AI Coaches to answer the three critical questions:
                            </p>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div class="bg-gray-50 p-6 rounded-lg border border-gray-200 border-l-4 border-l-orange-500 shadow-sm">
                                <h4 class="font-bold text-gray-900 mb-2 uppercase text-xs tracking-wider">Why Change? <span class="text-orange-500">— The Problem</span></h4>
                                <p class="text-xs text-gray-600 leading-relaxed">Identify the hidden risks, costs, and technical debt of the customer's current "Status Quo." Prove that doing nothing is no longer an option.</p>
                            </div>
                            <div class="bg-gray-50 p-6 rounded-lg border border-gray-200 border-l-4 border-l-orange-500 shadow-sm">
                                <h4 class="font-bold text-gray-900 mb-2 uppercase text-xs tracking-wider">Why You? <span class="text-orange-500">— The Solution</span></h4>
                                <p class="text-xs text-gray-600 leading-relaxed">Differentiate our architecture and platform, showing exactly how we solve their unique pain points better than any other alternative.</p>
                            </div>
                            <div class="bg-gray-50 p-6 rounded-lg border border-gray-200 border-l-4 border-l-orange-500 shadow-sm">
                                <h4 class="font-bold text-gray-900 mb-2 uppercase text-xs tracking-wider">Why Now? <span class="text-orange-500">— The Urgency</span></h4>
                                <p class="text-xs text-gray-600 leading-relaxed">Align Cloudflare’s capabilities with the customer’s immediate business drivers, identifying the specific trigger events that make this transition a priority today.</p>
                            </div>
                        </div>
                        <div class="bg-orange-600 text-white p-5 rounded-lg flex items-center gap-4 shadow-md border border-orange-500">
                            <div class="p-2 bg-white/20 rounded">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/></svg>
                            </div>
                            <div>
                                <h5 class="text-xs font-black uppercase tracking-widest mb-0.5">The Golden Rule</h5>
                                <p class="text-sm font-medium opacity-95">If any one of these three answers is missing from your business case — the deal is at risk of falling back to Status Quo.</p>
                            </div>
                        </div>
                    </div>

                    <!-- PAGE 2: THE WHAT -->
                    <div id="ob-page-2" class="onboarding-page space-y-8">
                        <div class="border-t border-gray-100 pt-6">
                            <h3 class="text-orange-600 text-xs font-extrabold uppercase tracking-widest mb-2">Step 02: The What - Coaches & Generators</h3>
                            <p class="text-sm text-gray-700 leading-relaxed max-w-4xl">
                                The Engine is a connected ecosystem. Your strategic research in the **Insights Coach** fuels both phase-specific assets and synergistic deal prep tools across the sales cycle.
                            </p>
                        </div>
                        
                        <!-- Visual Engine Flow Representation -->
                        <div class="flex flex-col items-center gap-2 max-w-3xl mx-auto py-4">
                            <!-- Start Point -->
                            <div class="w-64 bg-white p-5 rounded-lg border-2 border-orange-500 shadow-md text-center relative mb-4">
                                <span class="absolute -top-3 left-1/2 -translate-x-1/2 bg-black text-white text-[9px] px-3 py-1 rounded font-black tracking-widest uppercase">Start Here</span>
                                <p class="text-[10px] font-extrabold uppercase text-orange-500 tracking-tighter mb-1">COACH</p>
                                <p class="text-sm font-bold">Insights Coach</p>
                                <p class="text-[10px] text-gray-400 mt-1">Research & POV</p>
                            </div>

                            <!-- Branching Arrows SVG -->
                            <svg class="w-full h-12 text-orange-500 overflow-visible" viewBox="0 0 400 50">
                                <path d="M200 0 L200 15" stroke="currentColor" stroke-width="2" fill="none" />
                                <path d="M100 15 L300 15" stroke="currentColor" stroke-width="2" fill="none" />
                                <path d="M100 15 L100 40" stroke="currentColor" stroke-width="2" fill="none" />
                                <path d="M300 15 L300 40" stroke="currentColor" stroke-width="2" fill="none" />
                                <path d="M96 35 L100 42 L104 35" stroke="currentColor" stroke-width="2" stroke-linejoin="round" fill="none" />
                                <path d="M296 35 L300 42 L304 35" stroke="currentColor" stroke-width="2" stroke-linejoin="round" fill="none" />
                            </svg>

                            <!-- Second Tier Recipients -->
                            <div class="flex flex-row justify-between w-full gap-8">
                                <div class="flex-1 bg-white p-5 rounded-lg border-2 border-orange-500 shadow-md text-center relative">
                                    <span class="absolute -top-2.5 left-1/2 -translate-x-1/2 bg-orange-500 text-white text-[9px] px-2 py-0.5 rounded font-bold">GENERATOR</span>
                                    <p class="text-sm font-bold">Value Map Gen</p>
                                    <p class="text-[10px] text-gray-400 mt-1">Visual Deal Assets</p>
                                </div>
                                <div class="flex-1 bg-white p-5 rounded-lg border-2 border-orange-500 shadow-md text-center relative">
                                    <span class="absolute -top-2.5 left-1/2 -translate-x-1/2 bg-orange-500 text-white text-[9px] px-2 py-0.5 rounded font-bold">COACH</span>
                                    <p class="text-sm font-bold">Role-Play Coach</p>
                                    <p class="text-[10px] text-gray-400 mt-1">Outcome Readiness</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- PAGE 3: THE HOW -->
                    <div id="ob-page-3" class="onboarding-page space-y-8">
                        <div class="border-t border-gray-100 pt-6">
                            <h3 class="text-orange-600 text-xs font-extrabold uppercase tracking-widest mb-2">Step 03: The How - Engaging Gemini</h3>
                            <p class="text-sm text-gray-700 leading-relaxed max-w-4xl">
                                Activating the Engine is simple. Follow these steps for every coaching session.
                            </p>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                            <div class="space-y-4">
                                <div class="flex gap-4">
                                    <div class="w-8 h-8 rounded bg-black text-white flex items-center justify-center font-bold flex-shrink-0 text-sm">1</div>
                                    <p class="text-sm text-gray-700 font-medium">Select a Phase and click any <strong>Coach</strong> or <strong>Generator</strong> button.</p>
                                </div>
                                <div class="flex gap-4">
                                    <div class="w-8 h-8 rounded bg-black text-white flex items-center justify-center font-bold flex-shrink-0 text-sm">2</div>
                                    <p class="text-sm text-gray-700 font-medium">When the <strong>Gemini</strong> interface opens on the right, simply hit <span class="bg-gray-200 px-2 py-0.5 rounded font-mono font-bold border border-gray-300">ENTER</span> to start.</p>
                                </div>
                                <div class="flex gap-4">
                                    <div class="w-8 h-8 rounded bg-black text-white flex items-center justify-center font-bold flex-shrink-0 text-sm">3</div>
                                    <p class="text-sm text-gray-700 font-medium">Review the Deal Intelligence and refine it with your own POV.</p>
                                </div>
                            </div>
                            <div class="bg-blue-600 text-white p-8 rounded-lg shadow-lg relative overflow-hidden">
                                <div class="absolute -right-4 -bottom-4 opacity-10">
                                    <svg class="w-24 h-24" fill="currentColor" viewBox="0 0 24 24"><path d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
                                </div>
                                <h4 class="text-[10px] font-bold uppercase tracking-widest mb-3 opacity-80">Pro Tip for GEMs</h4>
                                <p class="text-xl font-bold leading-tight">"Don't type a prompt. Just hit ENTER as soon as Gemini loads — the engine already knows what to do."</p>
                            </div>
                        </div>
                    </div>

                    <!-- Navigation Controls -->
                    <div class="absolute bottom-0 right-0 left-0 flex items-center justify-between pt-6 border-t border-gray-100">
                        <button onclick="changeOnboardingPage(-1)" id="ob-prev" class="flex items-center gap-2 text-xs font-bold text-gray-400 hover:text-orange-600 transition-colors opacity-50 cursor-not-allowed" disabled>
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
                            Back
                        </button>
                        
                        <div id="pagination-dots" class="flex gap-2 px-4 py-1.5 bg-gray-50 rounded-full">
                            <div onclick="goToOnboardingPage(1)" class="w-2.5 h-2.5 rounded-full bg-orange-500 transition-all duration-300 cursor-pointer hover:scale-125"></div>
                            <div onclick="goToOnboardingPage(2)" class="w-2.5 h-2.5 rounded-full bg-gray-300 transition-all duration-300 cursor-pointer hover:scale-125"></div>
                            <div onclick="goToOnboardingPage(3)" class="w-2.5 h-2.5 rounded-full bg-gray-300 transition-all duration-300 cursor-pointer hover:scale-125"></div>
                        </div>

                        <button onclick="changeOnboardingPage(1)" id="ob-next" class="flex items-center gap-2 text-xs font-bold text-orange-600 hover:text-orange-700 transition-colors">
                            Next Step
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- NAVIGATION -->
        <nav id="phase-nav" class="flex flex-wrap md:flex-nowrap gap-3 mb-10">
            <!-- Dynamic Phase Buttons Loaded here -->
        </nav>

        <!-- CONTENT AREA -->
        <div id="phase-content">
            <!-- Dynamic Injection -->
        </div>

        <!-- AI GUARDRAILS SECTION -->
        <section class="mt-20 bg-[#050505] text-white p-10 md:p-12 rounded-xl shadow-2xl relative overflow-hidden group">
            <div class="absolute top-0 right-0 w-80 h-80 bg-orange-500/10 rounded-full blur-[80px] pointer-events-none"></div>
            
            <div class="relative z-10 max-w-4xl mx-auto">
                <div class="flex items-center gap-4 mb-10">
                    <div class="p-2.5 bg-orange-500 rounded">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/></svg>
                    </div>
                    <h3 class="text-2xl md:text-3xl font-extrabold tracking-tight uppercase tracking-widest">
                        AI Guardrails & Usage
                    </h3>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-12 text-sm text-gray-400 leading-relaxed">
                    <div class="space-y-3">
                        <p class="text-orange-500 font-bold uppercase text-xs tracking-wider">01. Data Privacy</p>
                        <p>Never input sensitive customer data, PII, or internal trade secrets into public AI models. Stick to internal instances.</p>
                    </div>
                    <div class="space-y-3">
                        <p class="text-orange-500 font-bold uppercase text-xs tracking-wider">02. Accountability</p>
                        <p>Review all output meticulously. You are the final editor and author of all material produced here.</p>
                    </div>
                    <div class="space-y-3">
                        <p class="text-orange-500 font-bold uppercase text-xs tracking-wider">03. Verification</p>
                        <p>Cross-check technical claims with documentation. AI can hallucinate specific platform capabilities.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="py-12 text-center text-gray-400 text-xs border-t border-gray-100 mt-20">
        <p class="font-bold text-gray-900 mb-2 uppercase tracking-widest">The Value Engine</p>
        <p>&copy; 2025 Cloudflare, Inc. Built for Sales Velocity.</p>
    </footer>

    <script>
        // Global State
        let currentSection = 'selling';
        let currentOnboardingPage = 1;

        const contentMap = {
            selling: {
                phases: {
                    1: {
                        title: "Strategic Prep", subtitle: "Establish 'Why Change?'", layout: 'linear',
                        primaryTool: { name: 'Insights Coach', type: 'REQUIRED START', desc: 'Research disruptive insights and build POV.', cta: 'Launch Coach' },
                        followUpTools: [
                            { name: 'Value Map Gen', type: 'NEXT STEP', desc: 'Turn Insights output into a visual outcome map.', cta: 'Generate Map' },
                            { name: 'Role-Play Coach', type: 'REFINEMENT', desc: 'Practice your hook using the hypothesis you built.', cta: 'Practice Hook' }
                        ],
                        checklist: ["POV on business priorities?", "Cost of Doing Nothing named?", "Thread: Established Why Change?"],
                        strategyDesc: "Prove you understand their business priorities. Disrupt the status quo.",
                        busyMove: "Lead with one specific peer benchmark to earn the right to the meeting."
                    },
                    2: {
                        title: "Validate & Differentiate", subtitle: "Establish 'Why You?'", layout: 'independent',
                        tools: [
                            { name: 'Discovery Prep Coach', type: 'DISCOVERY', desc: 'Tailor questions to isolate the "Unique Wedge".', cta: 'Build Discovery Kit' },
                            { name: 'Competitive Takeout', type: 'STRATEGY', desc: 'Isolate displacement strategies for specific incumbents found in discovery.', cta: 'Get Playbook' }
                        ],
                        checklist: ["Current way preventing goals?", "Identified a 'Unique Wedge'?", "Thread: Established Why Us?"],
                        strategyDesc: "Secure technical agreement that only Cloudflare solves their specific priorities.",
                        busyMove: "In every demo, ask: 'How would having this change your daily outcome?'"
                    },
                    3: {
                        title: "Quantify & Close", subtitle: "Establish 'Why Now?'", layout: 'linear',
                        primaryTool: { name: 'Business Case Coach', type: 'REQUIRED START', desc: 'Synthesize the value thread into narrative.', cta: 'Start Coaching' },
                        followUpTools: [{ name: 'Executive Case-on-a-Page', type: 'GENERATOR', desc: 'Convert output into a summary for the Board.', cta: 'Generate PDF' }],
                        checklist: ["Dollar amount attached to problem?", "Champion 'owns' this business case?", "Thread: Established Why Now?"],
                        strategyDesc: "Create mathematical urgency for the CFO. Software is discretionary, outcomes are not.",
                        busyMove: "Ask: 'If the CFO asks why we can’t wait 12 months, what do we tell them?'"
                    }
                }
            },
            realization: {
                phases: {
                    1: {
                        title: "Outcome Alignment", subtitle: "Define 'Success Criteria'", layout: 'linear',
                        primaryTool: { name: 'KPI Alignment Coach', type: 'REQUIRED START', desc: 'Establish a baseline for value tracking based on the original business case.', cta: 'Align KPIs' },
                        followUpTools: [{ name: 'Success Map Gen', type: 'ASSET', desc: 'Create a visual roadmap of value realization.', cta: 'Map Success' }],
                        checklist: ["Are baseline metrics confirmed?", "Is the Champion aligned on measurement?", "Initial value reported?"],
                        strategyDesc: "Pivot from the promise of value to the measurement of outcome.",
                        busyMove: "Confirm the 'Metric of Record' with the customer within 30 days of Close."
                    },
                    2: {
                        title: "Value Tracking", subtitle: "Proving ROI", layout: 'independent',
                        tools: [
                            { name: 'ROI Tracker Generator', type: 'GENERATOR', desc: 'Generate live value dashboards and ROI reports.', cta: 'Track Value' },
                            { name: 'Executive EBR Prep', type: 'COACH', desc: 'Build EBR decks that tell a mathematical success story.', cta: 'Prep EBR' }
                        ],
                        checklist: ["EBR scheduled with decision maker?", "Positive ROI verified?", "Technical debt successfully reduced?"],
                        strategyDesc: "Demonstrate that the 'Why Change' hypothesis has been proven true.",
                        busyMove: "Send a 'Value Flash' email every quarter highlighting one specific win."
                    },
                    3: {
                        title: "Expansion & Renewal", subtitle: "The Cycle Repeats", layout: 'linear',
                        primaryTool: { name: 'Renewal Strategy Coach', type: 'REQUIRED START', desc: 'Isolate expansion wedges based on realized value.', cta: 'Build Strategy' },
                        followUpTools: [{ name: 'New Deal POV Gen', type: 'NEXT STEP', desc: 'Flip realized value back into a new Selling Engine loop.', cta: 'Fuel New Deal' }],
                        checklist: ["Champion willing to provide testimonial?", "Expansion 'Wedge' identified?", "Renewal non-event?"],
                        strategyDesc: "Realized value is the strongest fuel for the next 'Why Change' conversation.",
                        busyMove: "Lead the renewal conversation with 'Since we last spoke, we saved you $X... imagine if we did Y.'"
                    }
                }
            }
        };

        function switchSection(section) {
            currentSection = section;
            document.querySelectorAll('.section-tab').forEach(t => t.classList.remove('active'));
            document.getElementById(`sec-${section}`).classList.add('active');
            renderPhaseNav();
            showPhase(1);
        }

        function renderPhaseNav() {
            const nav = document.getElementById('phase-nav');
            const phases = contentMap[currentSection].phases;
            nav.innerHTML = Object.keys(phases).map(num => `
                <button onclick="showPhase(${num})" id="btn-p${num}" class="phase-tab flex-1 py-4 px-6 text-left rounded transition-all duration-200 text-gray-400 hover:bg-white hover:text-gray-900 border border-transparent hover:border-gray-200">
                    <span class="block text-[10px] uppercase font-black opacity-60 mb-1">Phase 0${num}</span>
                    <span class="text-base font-bold tracking-tight">${phases[num].title}</span>
                </button>
            `).join('');
        }

        function showPhase(num) {
            const data = contentMap[currentSection].phases[num];
            const content = document.getElementById('phase-content');
            const themeColor = currentSection === 'selling' ? 'orange' : 'blue';
            
            document.querySelectorAll('.phase-tab').forEach(btn => {
                btn.classList.remove('active-selling', 'active-realization', 'shadow-md');
                btn.classList.add('text-gray-400');
            });
            const activeClass = currentSection === 'selling' ? 'active-selling' : 'active-realization';
            const btn = document.getElementById(`btn-p${num}`);
            if(btn) {
                btn.classList.add(activeClass, 'shadow-md');
                btn.classList.remove('text-gray-400');
            }

            const getToolIcon = (toolName) => {
                if (toolName === 'Insights Coach') {
                    return `
                        <div class="absolute top-4 right-4 bg-orange-100 p-2 rounded-lg text-orange-600 shadow-sm border border-orange-200">
                            <svg class="w-8 h-8 fill-current" viewBox="0 0 24 24"><path d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
                        </div>
                    `;
                }
                return '';
            };

            let toolMarkup = '';
            if (data.layout === 'linear') {
                toolMarkup = `
                    <div class="space-y-4">
                        <!-- Primary Action Card with Lightning Bolt in Corner -->
                        <div class="bg-white p-1 rounded-xl shadow-md border-[3px] border-${themeColor}-500 animate-fade-in relative overflow-hidden ring-4 ring-${themeColor}-500/10">
                            <div class="bg-gray-50 border-b border-gray-100 px-6 py-2 font-black text-[9px] uppercase tracking-widest text-gray-400">Step 01: Primary Action</div>
                            <div class="p-8 bg-${themeColor}-50/5 relative">
                                ${getToolIcon(data.primaryTool.name)}
                                <h4 class="text-xl font-extrabold text-gray-900 mb-2">${data.primaryTool.name}</h4>
                                <p class="text-gray-600 text-sm mb-6 max-w-2xl">${data.primaryTool.desc}</p>
                                <div class="flex items-center gap-6">
                                    <button class="px-6 py-2.5 ${currentSection === 'selling' ? 'btn-cf-primary' : 'btn-cf-realization'} rounded text-sm font-bold shadow-sm flex items-center gap-2 group">
                                        ${data.primaryTool.cta}
                                    </button>
                                    <a href="#" class="text-orange-500 hover:text-orange-700 text-xs font-bold underline transition-colors">Watch Demo</a>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex justify-center py-2">
                            <svg class="h-20 w-full max-w-[375px] overflow-visible text-${themeColor === 'orange' ? 'orange-400' : 'blue-400'}" viewBox="0 0 200 60">
                                <path d="M100 0 V15 H40 V40 M100 15 H160 V40" stroke="currentColor" stroke-width="2.2" fill="none" stroke-dasharray="3 3" />
                                <path d="M35 35 L40 43 L45 35 M155 35 L160 43 L165 35" stroke="currentColor" stroke-width="2.2" stroke-linejoin="round" fill="none" />
                            </svg>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            ${data.followUpTools.map(tool => `
                                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 transition-all flex flex-col h-full animate-fade-in hover:shadow-md relative">
                                    ${getToolIcon(tool.name)}
                                    <span class="text-[9px] font-black text-${themeColor}-500 uppercase tracking-widest mb-3">Step 02: ${tool.type || 'REFINEMENT'}</span>
                                    <h5 class="text-lg font-bold mb-1.5 text-gray-900">${tool.name}</h5>
                                    <p class="text-xs text-gray-500 mb-6 flex-grow leading-relaxed">${tool.desc}</p>
                                    <div class="flex items-center gap-4">
                                        <button class="flex-grow py-2 bg-gray-50 text-gray-900 rounded text-[11px] font-bold border border-gray-100 hover:bg-gray-100 transition-colors uppercase tracking-wider">${tool.cta}</button>
                                        <a href="#" class="text-orange-500 hover:text-orange-700 text-[10px] font-bold underline transition-colors">Demo</a>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            } else {
                toolMarkup = `
                    <div class="relative">
                        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 hidden md:block z-0 pointer-events-none">
                            <svg class="w-32 h-10 text-gray-200" viewBox="0 0 100 20">
                                <path d="M0 10 H80" stroke="currentColor" stroke-width="3.5" stroke-dasharray="4 2" />
                                <path d="M75 3 L85 10 L75 17" stroke="currentColor" stroke-width="3.5" fill="none" />
                            </svg>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-12 relative z-10">
                            ${data.tools.map((tool, idx) => `
                                <div class="bg-white ${idx === 0 ? `border-${themeColor}-500 border-[3px] ring-4 ring-${themeColor}-500/10` : 'border-gray-200 border-t-[3px]'} p-7 rounded-lg transition-all flex flex-col h-full animate-fade-in shadow-sm hover:shadow-md relative">
                                    ${getToolIcon(tool.name)}
                                    <span class="text-[9px] font-black text-${themeColor}-500 uppercase tracking-widest mb-4">${tool.type} ${idx === 0 ? ' (RECOMMENDED START)' : ''}</span>
                                    <h4 class="text-xl font-bold text-gray-900 mb-2">${tool.name}</h4>
                                    <p class="text-xs text-gray-500 mb-8 flex-grow leading-relaxed">${tool.desc}</p>
                                    <div class="flex items-center gap-6">
                                        <button class="px-6 py-2.5 ${currentSection === 'selling' ? 'btn-cf-primary' : 'btn-cf-realization'} rounded text-[11px] font-black uppercase tracking-widest shadow-sm">
                                            ${tool.cta}
                                        </button>
                                        <a href="#" class="text-orange-500 hover:text-orange-700 text-xs font-bold underline transition-colors">Demo</a>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            }

            content.innerHTML = `
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 animate-fade-in items-start">
                    <div class="lg:col-span-2 order-2 lg:order-1">${toolMarkup}</div>
                    <div class="lg:col-span-1 space-y-5 order-1 lg:order-2 sticky top-8">
                        <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                             <h4 class="text-[9px] font-black text-gray-400 uppercase tracking-widest mb-3">Phase Strategy</h4>
                             <h3 class="text-xl font-black text-gray-900 mb-1 tracking-tight">${data.title}</h3>
                             <p class="text-${themeColor}-600 font-bold text-xs mb-5 italic">"${data.subtitle}"</p>
                             <div class="space-y-5 border-t border-gray-100 pt-5">
                                <div><h4 class="text-[9px] font-black text-gray-400 uppercase tracking-widest mb-2">The Strategy</h4><p class="text-[13px] text-gray-700 leading-relaxed font-semibold">${data.strategyDesc}</p></div>
                                
                                <!-- Updated BUSY SELLER MOVE Header and Icon -->
                                <div class="p-4 rounded border border-${themeColor}-100 bg-${themeColor}-50/30 busy-seller-move">
                                    <div class="flex items-center gap-2 mb-2">
                                        <div class="p-1 bg-orange-100 rounded text-orange-600">
                                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                                        </div>
                                        <h4 class="text-[10px] font-black uppercase tracking-[0.1em] text-orange-600">The Busy Seller Move</h4>
                                    </div>
                                    <p class="text-gray-900 font-bold text-[12px] leading-snug">${data.busyMove}</p>
                                </div>
                             </div>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                            <h4 class="text-[10px] font-black uppercase tracking-widest mb-5 flex items-center justify-between">Readiness Checklist <span class="bg-green-100 text-green-600 px-2 py-0.5 rounded text-[9px] font-bold">Progress</span></h4>
                            <ul class="space-y-3.5 mb-6">
                                ${data.checklist.map(item => `
                                    <li class="checklist-item flex items-start group">
                                        <label class="flex items-start cursor-pointer"><input type="checkbox" class="mt-0.5 h-3.5 w-3.5 rounded-sm border-gray-300 text-${themeColor}-600 cursor-pointer transition-all"><span class="ml-3 text-[12px] text-gray-600 group-hover:text-gray-900 transition-colors font-medium">${item}</span></label>
                                    </li>
                                `).join('')}
                            </ul>
                            
                            <div class="mt-6 pt-5 border-t border-gray-100">
                                <div class="flex justify-between mb-2">
                                    <span class="text-[9px] font-black uppercase tracking-tighter ${num >= 1 ? 'text-orange-500' : 'text-gray-300'}">Why Change?</span>
                                    <span class="text-[9px] font-black uppercase tracking-tighter ${num >= 2 ? (currentSection === 'selling' ? 'text-orange-600' : 'text-blue-600') : 'text-gray-300'}">Why You?</span>
                                    <span class="text-[9px] font-black uppercase tracking-tighter ${num >= 3 ? (currentSection === 'selling' ? 'text-red-700' : 'text-blue-900') : 'text-gray-300'}">Why Now?</span>
                                </div>
                                <div class="w-full h-1.5 bg-gray-100 rounded-full overflow-hidden flex gap-0.5">
                                    <div class="h-full transition-all duration-700 ease-out ${num >= 1 ? 'bg-orange-500' : 'bg-transparent'}" style="width: 33.33%"></div>
                                    <div class="h-full transition-all duration-700 ease-out ${num >= 2 ? (currentSection === 'selling' ? 'bg-orange-600' : 'bg-blue-600') : 'bg-transparent'}" style="width: 33.33%"></div>
                                    <div class="h-full transition-all duration-700 ease-out ${num >= 3 ? (currentSection === 'selling' ? 'bg-red-700' : 'bg-blue-900') : 'bg-transparent'}" style="width: 33.34%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function toggleOnboarding() {
            const content = document.getElementById('onboarding-content');
            const icon = document.getElementById('toggle-icon');
            content.classList.toggle('open');
            icon.classList.toggle('rotate-180');
        }

        function goToOnboardingPage(pageNumber) {
            const totalPages = 3;
            if (pageNumber < 1 || pageNumber > totalPages) return;
            document.querySelectorAll('.onboarding-page').forEach(p => p.classList.remove('active'));
            document.getElementById(`ob-page-${pageNumber}`).classList.add('active');
            const dots = document.getElementById('pagination-dots').children;
            Array.from(dots).forEach((dot, idx) => {
                dot.classList.remove('bg-orange-500', 'bg-gray-300');
                dot.classList.add(idx === pageNumber - 1 ? 'bg-orange-500' : 'bg-gray-300');
            });
            const prevBtn = document.getElementById('ob-prev');
            const nextBtn = document.getElementById('ob-next');
            prevBtn.disabled = pageNumber === 1;
            prevBtn.classList.toggle('opacity-50', pageNumber === 1);
            nextBtn.innerHTML = pageNumber === totalPages ? 'Get Started' : 'Next Step';
            currentOnboardingPage = pageNumber;
        }

        function changeOnboardingPage(direction) {
            if (currentOnboardingPage + direction > 3) toggleOnboarding();
            else goToOnboardingPage(currentOnboardingPage + direction);
        }

        function toggleSupportMenu() { document.getElementById('support-menu').classList.toggle('hidden'); }

        window.onload = () => {
            renderPhaseNav();
            showPhase(1);
        };
    </script>
</body>
</html>
