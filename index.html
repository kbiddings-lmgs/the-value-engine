<!DOCTYPE html>
<html lang="en">
<head>
<!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-VQ513B8SVC"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VQ513B8SVC');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SANDBOX The Value Engine</title>
    <!-- Load Tailwind CSS --><script src="https://cdn.tailwindcss.com"></script>
    <!-- Use Inter font --><style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f4f6f8; /* Slightly darker light background for better contrast */
            color: #1f2937; /* Dark text */
        }
        /* Enable smooth scrolling */
        html {
            scroll-behavior: smooth; 
        }
        
        /* Brand Colors */
        :root {
            --brand-orange: #F38020;
            --brand-burgundy: #960c3e;
        }

        /* Active Navigation Styles (Vertical Nav) */
        .nav-active-orange {
            background-color: var(--brand-orange);
            color: white !important;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        .nav-active-burgundy {
            background-color: var(--brand-burgundy);
            color: white !important;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        /* Tab Styles */
        .tab-btn {
            position: relative;
            overflow: hidden;
            flex-grow: 1; /* Make tabs evenly spread */
        }
        .tab-btn::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 4px;
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }
        .tab-active-orange {
            color: var(--brand-orange);
        }
        .tab-active-orange::after {
            background-color: var(--brand-orange);
            transform: scaleX(1);
        }
        .tab-active-burgundy {
            color: var(--brand-burgundy);
        }
        .tab-active-burgundy::after {
            background-color: var(--brand-burgundy);
            transform: scaleX(1);
        }

        /* Scroll anchor offset, accounting for fixed nav/tabs/header */
        .section-anchor {
            scroll-margin-top: 14rem;
        }
    </style>
</head>
<body class="min-h-screen p-4 sm:p-8">

    <div id="app" class="max-w-7xl mx-auto">
        <!-- HEADER: Updated to include image background styles and path --><header 
            class="text-center py-10 rounded-t-xl mb-0 shadow-md border border-gray-200 bg-cover bg-center" 
            style="background-image: url('/images/hero-banner.png');"
        >
            <!-- Title: Text color set to white for visibility against a background image --><h1 class="text-5xl font-extrabold text-white mb-3">SANDBOX The Value Engine</h1>
            <!-- Sub-header: Text color set to white for visibility against a background image --><p class="text-xl text-white">Your Unified Hub for AI-Powered Value Selling</p>
        </header>
        
        <!-- NEW: GRAPHICAL TABS SECTION -->
        <div id="tab-navigation" class="flex justify-center bg-white shadow-lg rounded-b-xl mb-10 border-t border-gray-100 overflow-hidden">
            <button 
                id="tab-pre-sales" 
                onclick="switchTab('pre-sales', this)" 
                class="tab-btn py-5 text-lg font-bold text-gray-500 hover:bg-gray-50 transition duration-200 border-r border-gray-100"
            >
                Value Promised
            </button>
            <button 
                id="tab-post-sales" 
                onclick="switchTab('post-sales', this)" 
                class="tab-btn py-5 text-lg font-bold text-gray-500 hover:bg-gray-50 transition duration-200"
            >
                Value Realized
            </button>
        </div>
        <!-- END NEW TAB NAVIGATION -->

        <!-- MAIN CONTENT CONTAINER (Controlled by Tabs) -->
        <div id="main-content-container">
        
            <!-- EXPLORE THE ARSENAL (CARD GRID - primary navigation) --><section class="mb-16" id="explore">
                <h2 id="explore-header" class="text-3xl font-bold mb-3 pb-1 flex items-center text-gray-800">
                    <!-- Icon and text injected by JS -->
                </h2>
                <p class="text-gray-600 mb-8">Select a stage below to access tools and resources.</p>
                
                <!-- Card Grid populated by JS --><div id="card-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6">
                    <!-- Cards injected by JavaScript --></div>
            </section>

            <!-- UPDATED: AI PRINCIPLES CALLOUT (Icon removed) --><section class="mb-16 p-4 bg-gray-50 border-l-4 border-gray-200 rounded-lg shadow-sm" id="ai-principles">
                <h2 class="text-lg font-bold text-gray-800 mb-2">Remember: Smart AI Use</h2>
                <ul class="list-disc ml-7 space-y-1 text-sm text-gray-700">
                    <li>Everyone has a responsibility to <strong>protect customer data</strong> in any and every situation.</li>
                    <li>You still <strong>own the output</strong>. Read, understand, and approve all AI-generated work.</li>
                    <li>Only use <strong>approved tools</strong> for work.</li>
                </ul>
            </section>
            <!-- END UPDATED SECTION --><!-- DETAILED ENGINE CONTENT SECTIONS (Scroll Targets) --><section class="mb-12" id="content-sections">
                <div id="engine-content" class="space-y-16">
                    <!-- Detailed Content injected by JavaScript --></div>
            </section>
        </div>
        <!-- END MAIN CONTENT CONTAINER -->

        <!-- Footer updated with ID for dynamic year insertion --><footer class="text-center text-gray-500 pt-8 border-t border-gray-300">
            <p id="copyright-text">&copy; Cloudflare. The Value Engine. Built for Value Selling.</p>
        </footer>
    </div>
    
    <!-- Vertical Side Navigation (Fixed Right, only for MD+ screens) --><nav id="vertical-nav" class="fixed right-4 top-[240px] w-44 p-4 bg-white rounded-xl shadow-2xl border border-gray-200 z-20 hidden md:block">
        <div id="vertical-nav-links" class="space-y-1">
            <!-- Links populated by JS --></div>
    </nav>
    
    <!-- Fixed "Back to Top" Button (Positioned slightly left to accommodate the fixed nav) --><button id="back-to-top" class="fixed bottom-6 right-52 p-3 rounded-full bg-[#F38020] text-white shadow-xl hover:bg-[#FF9900] transition duration-300 opacity-0 invisible" aria-label="Back to Top" onclick="scrollToTop()">
        <!-- Up Arrow Icon --><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" />
        </svg>
    </button>

    <script>
        // --- 1. CORE DATA DEFINITIONS (Using original content for Value Promised) ---
        
        // Value Promised (Pre-Sales) - 5 Stages from original file
        const PRE_SALES_DATA = [
            {
                id: 'prepare',
                title: 'Strategic Preparation',
                navTitle: 'Prep', 
                description: 'Develop a Value Hypothesis‚Äîa well-researched insight into a potential high-impact objective(s) we can help the customer achieve.',
                icon: '/images/data.png', 
                tools: [
                    {
                        name: 'Targeting & Insights Coach',
                        type: 'AI GEM',
                        status: 'Active',
                        link: 'https://gemini.google.com/gem/1sCn_oVIj2oe3c4almMaopDii5mWxX7W4?usp=sharing',
                        description: 'The Targeting & Insights Coach runs a simulated planning session to sharpen your research strategy. It instantly generates personalized value hypotheses and compelling event summaries from your account data and deep research, ensuring every outreach is precise and highly relevant.',
                        tip: 'Take the time to work through each section with the coach. Then take your summary to the <strong> Value Map Generator </strong> to create a customer-facing version.'
                    },
                    {
                        name: 'Value Map Generator',
                        type: 'Content Generator',
                        status: 'Active',
                        link: 'https://gemini.google.com/gem/1iGzPeCbCrXkCQ5YfPStD65pAYGu25jXI?usp=sharing',
                        description: 'Leverage coach-led insights to build precision value maps. This process aligns your product capabilities directly with critical customer objectives and desired business outcomes, giving you a clear, customized framework to validate directly with your customers and drive deeper engagement.',
                        tip: 'Use your completed Value Map to facilitate deeper, business value-focused outreach and discovery conversations.'
                    },
                    {
                        name: 'Role-Play Coach',
                        type: 'AI GEM',
                        status: 'Active',
                        link: 'https://gemini.google.com/gem/1how7IDCcJbpgCQHmZxqr83QSyPGncjXS?usp=sharing',
                        description: 'Real-World Ready Practice. The Role-Play Coach simulates a live situation where it dynamically embodies your target persona. It uses your refined research‚Äîincluding personalized value hypotheses and compelling event summaries‚Äîto ensure the practice is hyper-relevant, preparing you to engage the real account with confidence and precision.',
                        tip: 'Use your insights from the Targeting & Insights or Discovery coaches to create a more realistic situation.'
                    }
                ]
            },
            {
                id: 'engage',
                title: 'Engage & Validate',
                navTitle: 'Engage', 
                description: 'Achieve Problem Validation by securing mutual agreement that the prospect\'s pain(s) is urgent, solvable, and worthy of our joint investment.',
                icon: '/images/convo.png',
                tools: [
                    {
                        name: 'Discovery Prep Coach',
                        type: 'AI GEM + Content Generator',
                        status: 'Active',
                        link: 'https://gemini.google.com/gem/1MyDycPlHlpJHakJ81KLbaJJ3VwK69fWf?usp=sharing',
                        description: 'This coach helps guide you through a rapid, preparation sprint for your upcoming discovery meeting, working together to develop the opener, discovery questions, talking points, closer, and immediate next steps.',
                        tip: 'Give this coach your executive summary from the Targeting & Insights Coach to create a more specific, targeted discovery approach.'
                    },
                    {
                        name: 'Akamai Takeout Data Sheet',
                        type: 'Prompt + Generator',
                        status: 'Active',
                        link: 'https://gemini.google.com/gem/1kV2nIhjghwp8dEJJRqTFHqqfqWkceyps?usp=sharing',
                        description: 'Generate a customer-facing data sheet to displace Akamai that is tailored to your prospect\'s goals and challenges, providing quantified and compelling reasons for further engagement.',
                        tip: 'Use this sheet as a door-opener that introduces the Cloudflare value prop, or as a "leave-behind" to reinforce the strategic nature of your validated problem.'
                    }
                ]
            },
            {
                id: 'quantify',
                title: 'Quantify the Impact',
                navTitle: 'Quantify', 
                description: 'Establish Quantified Outcomes by converting qualitative pain into the measurable financial and operational metrics the prospect is committed to changing (the ROI baseline).',
                icon: '/images/story.png',
                tools: [
                    {
                        name: 'Qualification Coach',
                        type: 'AI GEM',
                        status: 'Coming Soon',
                        link: '#',
                        description: 'A coach that guides you through the necessary financial and business metrics to qualify the deal based on potential value.',
                        tip: 'Ensure you have metrics for operational cost, risk reduction, and revenue acceleration ready before engaging.'
                    },
                    {
                        name: 'Impact Modeler',
                        type: 'Data Tool',
                        status: 'Coming Soon',
                        link: '#',
                        description: 'An interactive tool to generate impact stats, case studies, and do light ROI modeling of Cloudflare solutions based on customer data.',
                        tip: 'Only use this tool once you have successfully validated the quantifiable business metrics with the customer.'
                    }
                ]
            },
            {
                id: 'cocreate',
                title: 'Co-Create the Case',
                navTitle: 'Case', 
                description: 'Secure Contractual Commitment by anchoring the final agreement (price and terms) directly to the projected value in the co-created Business Case.',
                icon: '/images/case.png',
                tools: [
                    {
                        name: 'Case & Negotiation Coach',
                        type: 'AI GEM',
                        status: 'Coming Soon',
                        link: '#',
                        description: 'This coach will help you refine your business case narrative and practice negotiation strategies anchored to the projected value.',
                        tip: 'Practice negotiating a pricing increase by referring back to the mutually agreed-upon value metrics.'
                    },
                    {
                        name: 'Lite Business Value Assessment',
                        type: 'Content Generator',
                        status: 'Coming Soon',
                        link: '#',
                        description: 'A quick-generation tool for creating a high-level assessment of the customer\'s current state and the financial uplift from the proposed solution.',
                        tip: 'Keep the assessment high-level for C-level executives; focus on 3 key financial metrics.'
                    }
                ]
            },
            {
                id: 'continuousreturn',
                title: 'Drive Continuous Return',
                navTitle: 'Realize', 
                description: 'Develop and execute a comprehensive success plan, tracking customer objectives and KPIs to proactively uncover new needs and drive long-term loyalty.',
                icon: '/images/story.png',
                tools: [
                    {
                        name: 'Handoff Coach',
                        type: 'AI GEM',
                        status: 'Coming Soon',
                        link: '#',
                        description: 'A coach that is there to structure the perfect handoff, ensuring the Customer Success team is equipped with the validated value hypothesis and KPIs.',
                        tip: 'Use the output from the Lite Business Value Assessment to structure the handoff document.'
                    },
                    {
                        name: 'Renewal & Growth Coach',
                        type: 'AI GEM',
                        status: 'Coming Soon',
                        link: '#',
                        description: 'Provides strategies and talking points to maximize renewal rates and identify expansion opportunities based on realized value.',
                        tip: 'Focus on realized value metrics (KPIs) tracked over the past year to anchor the renewal conversation.'
                    },
                    {
                        name: 'QBR Content Generator',
                        type: 'Content Generator',
                        status: 'Coming Soon',
                        link: '#',
                        description: 'Generates a draft structure and key content points for a Value-focused Quarterly Business Review (QBR).',
                        tip: 'Customize the content to focus on the customer\'s objectives, not just product features.'
                    }
                ]
            }
        ];

        // Value Realized (Post-Sales) - 5 NEW Placeholder Stages (Burgundy Theme)
        const POST_SALES_DATA = [
            {
                id: 'value_definition',
                title: 'Success & KPI Definition',
                navTitle: 'Define', 
                description: 'This initial stage involves clearly identifying and defining the specific objectives, expected outcomes, and metrics for success (KPIs) of the investment. It is crucial to align on what "value" means for all stakeholders and to set realistic expectations.',
                icon: '/images/define.png', 
                tools: [
                    { name: 'Objective Alignment Planner', type: 'AI GEM', status: 'Coming Soon', link: '#', 
                      description: 'Helps structure initial success metrics and stakeholder goals, ensuring alignment across the organization on what success looks like.', 
                      tip: 'Collaborate with the customer to map every objective to a measurable KPI before implementation begins.' },
                    { name: 'KPI Definition Template', type: 'Content Generator', status: 'Coming Soon', link: '#', 
                      description: 'Template for documenting agreed-upon KPIs, required baseline metrics, and the method for tracking future performance.', 
                      tip: 'Ensure sign-off from key stakeholders to validate the metrics and expectations.' }
                ]
            },
            {
                id: 'value_delivery',
                title: 'Onboarding & Implementation',
                navTitle: 'Onboard', 
                description: 'This stage focuses on the implementation and support processes that enable the value to be achieved. It includes onboarding, training, technical integration, and providing ongoing guidance to ensure users can utilize the product or service effectively.',
                icon: '/images/deliver.png', 
                tools: [
                    { name: 'Onboarding Process Checklist', type: 'Resource', status: 'Coming Soon', link: '#', 
                      description: 'A comprehensive checklist for guiding successful technical integration, user setup, and initial feature adoption.', 
                      tip: 'Use this checklist to track the key milestones necessary for the customer to start using the product effectively.' },
                    { name: 'Enablement Content Finder', type: 'AI GEM', status: 'Coming Soon', link: '#', 
                      description: 'Locates relevant training materials, technical documentation, and best practice guides based on the customer\'s specific configuration.', 
                      tip: 'Proactively share these resources with the customer\'s technical and business users during implementation.' }
                ]
            },
            {
                id: 'value_realization',
                title: 'Adoption & Engagement',
                navTitle: 'Adopt', 
                description: 'This is the point where the customer or organization actively uses the solution and begins to experience the actual, quantifiable benefits and achieves their initial goals. This is often the "aha" moment when the product\'s utility becomes clear in a day-to-day workflow.',
                icon: '/images/realize.png', 
                tools: [
                    { name: 'Aha Moment Indicator', type: 'Data Tool', status: 'Coming Soon', link: '#', 
                      description: 'Tracks specific user actions or usage patterns indicating high engagement or goal achievement within the product.', 
                      tip: 'Identify these key moments early and celebrate them with the customer to reinforce positive value perception.' },
                    { name: 'Usage Gap Analyzer', type: 'AI GEM', status: 'Coming Soon', link: '#', 
                      description: 'Identifies accounts with low feature adoption or usage compared to their initial objectives, suggesting tailored intervention strategies.', 
                      tip: 'Use the analysis to prioritize which accounts need proactive outreach and coaching.' }
                ]
            },
            {
                id: 'value_validation',
                title: 'Measurement & ROI Verification',
                navTitle: 'Verify', 
                description: 'In this stage, the value that has been realized is measured, tracked, and verified against the initial metrics and expectations defined in the first stage. This can involve surveys, data analytics, and performance reviews to ensure the promised value is consistently delivered and to confirm ROI.',
                icon: '/images/validate.png', 
                tools: [
                    { name: 'Value Measurement Coach', type: 'AI GEM', status: 'Coming Soon', link: '#', 
                      description: 'Guides you through collecting, structuring, and presenting realized value data to key stakeholders, preparing for QBRs and executive reviews.', 
                      tip: 'Focus the conversation on the business impact of the metrics, not just the technical performance improvements.' },
                    { name: 'ROI Verification Report Generator', type: 'Content Generator', status: 'Coming Soon', link: '#', 
                      description: 'Creates professional reports comparing agreed-upon baseline metrics vs. realized performance, including clear ROI confirmation.', 
                      tip: 'Share this report with executive sponsors to ensure documented value is cascaded throughout the organization.' }
                ]
            },
            {
                id: 'value_optimization',
                title: 'Optimization & Expansion',
                navTitle: 'Expand',
                description: 'The final stage involves using the feedback and data gathered during validation to continuously refine strategies and maximize the perceived value. This iterative process seeks to improve efficiency, explore upsell opportunities, and ensure long-term growth and sustained success.',
                icon: '/images/optimize.png',
                tools: [
                    { name: 'Continuous Improvement Planner', type: 'AI GEM', status: 'Coming Soon', link: '#', 
                      description: 'Helps structure iterative plans for maximizing product utility, identifying next-best actions, and improving efficiency based on validation data.', 
                      tip: 'Treat this as a collaborative planning session with the customer to define the next quarter\'s priorities.' },
                    { name: 'Next Step/Expansion Roadmap Builder', type: 'Content Generator', status: 'Coming Soon', link: '#', 
                      description: 'Generates a strategic plan for advocacy, renewal, and identifying logical upsell or cross-sell opportunities.', 
                      tip: 'Anchor any expansion proposals directly to the validated value realized in the previous stage.' }
                ]
            }
        ];


        let activeData = PRE_SALES_DATA; // Default active data set
        let activeTabId = 'pre-sales';   // Default active tab ID


        // --- 2. RENDER HUB CONTENT AND NAVIGATION ---

        function getToolTag(type) {
            const t = type.toUpperCase();
            if (t.includes('COACH') || t.includes('GEM')) return 'COACH';
            if (t.includes('GENERATOR') || t.includes('ASSESSMENT') || t.includes('BUILDER')) return 'GENERATOR';
            if (t.includes('TOOL') || t.includes('MODELER') || t.includes('TRACKER')) return 'TOOL';
            return 'RESOURCE';
        }
        
        // Helper function to generate icon/image HTML with fallback emojis
        function generateIconHtml(iconSource, isLarge) {
            const sizeClass = isLarge ? 'w-12 h-12 mb-3' : 'w-8 h-8';
            const extraClasses = isLarge ? '' : ' mr-3'; 
            let placeholderText = 'A';
            if (iconSource.includes('define')) placeholderText = 'üéØ'; // New: Definition
            else if (iconSource.includes('deliver')) placeholderText = 'üõ†Ô∏è'; // New: Delivery
            else if (iconSource.includes('realize')) placeholderText = '‚úÖ'; // New: Realization
            else if (iconSource.includes('validate')) placeholderText = 'üîç'; // New: Validation
            else if (iconSource.includes('optimize')) placeholderText = '‚ú®'; // New: Optimization
            else if (iconSource.includes('data')) placeholderText = 'üß†';
            else if (iconSource.includes('convo')) placeholderText = 'üí¨';
            else if (iconSource.includes('story')) placeholderText = 'üìà';
            else if (iconSource.includes('case')) placeholderText = 'üíº';

            // Fallback color is a neutral grey
            const fallbackSrc = `https://placehold.co/${isLarge ? '48x48' : '32x32'}/cccccc/ffffff?text=${placeholderText}`;
            
            if (iconSource.includes('/images/')) {
                // Image path with onerror fallback
                return `<img src="${iconSource}" alt="Icon" class="${sizeClass}${extraClasses}" onerror="this.onerror=null; this.src='${fallbackSrc}';">`;
            } else {
                // If it's intended to be SVG, render with current classes
                let svg = iconSource;
                svg = svg.replace(/class="[^"]*"/, `class="${sizeClass}${extraClasses}"`);
                return svg;
            }
        }

        function renderEngineContent(data, theme) {
            const cardContainer = document.getElementById('card-grid');
            const contentContainer = document.getElementById('engine-content');
            const navContainer = document.getElementById('vertical-nav-links');
            const exploreHeader = document.getElementById('explore-header');
            
            let contentHtml = '';
            let navHtml = '';
            let cardHtml = '';

            const isPreSales = theme === 'pre-sales';
            
            // --- DYNAMIC STYLES BASED ON THEME ---
            // Colors: Pre-Sales = Orange (#F38020), Post-Sales = Burgundy (#960c3e)
            
            // Text Colors
            const primaryColorHex = isPreSales ? '#F38020' : '#960c3e'; 
            const headerTextColor = isPreSales ? 'text-gray-800' : 'text-[#960c3e]';
            
            // Card Styles (Tailwind arbitrary values for Burgundy)
            const cardBg = isPreSales ? 'bg-orange-50' : 'bg-[#fff0f5]'; // Custom light pink/burgundy bg
            const cardBorder = isPreSales ? 'border-orange-200' : 'border-[#960c3e]/30';
            const cardHoverBorder = isPreSales ? 'hover:border-[#F38020]' : 'hover:border-[#960c3e]';
            
            // Tips Box
            const tipBg = isPreSales ? 'bg-orange-50' : 'bg-[#fff0f5]';
            const tipBorder = isPreSales ? 'border-orange-200' : 'border-[#960c3e]/20';
            const tipTitleColor = isPreSales ? 'text-[#F38020]' : 'text-[#960c3e]';

            // Tags
            const tagBg = isPreSales ? 'bg-gray-200' : 'bg-[#960c3e]/10';
            const tagText = isPreSales ? 'text-gray-700' : 'text-[#960c3e]';

            // Vertical Nav Class
            const navActiveClass = isPreSales ? 'nav-active-orange' : 'nav-active-burgundy';

            // Update Header Text
            const phaseTitle = isPreSales ? 'Value Promised Stages' : 'Value Realized Stages';
            // Determine placeholder icon color based on theme
            const iconFallbackColor = isPreSales ? 'F38020' : '960c3e'; 
            const headerIcon = `<img src="/images/play.png" class="w-7 h-7 mr-3" onerror="this.onerror=null;this.src='https://placehold.co/28/${iconFallbackColor}/fff?text=‚ñ∂Ô∏è';">`;
            
            exploreHeader.innerHTML = `${headerIcon} <span class="${headerTextColor}">${phaseTitle}</span>`;

            // Back to top button update (always uses Brand Orange)
            document.getElementById('back-to-top').style.backgroundColor = '#F38020';

            data.forEach(category => {
                // 1. Vertical Nav
                navHtml += `
                    <a href="#${category.id}" data-section-id="${category.id}" class="side-nav-item block text-sm px-3 py-1.5 font-medium text-gray-700 hover:bg-gray-100 rounded transition duration-150">
                        <span class="truncate">${category.navTitle}</span>
                    </a>
                `;

                // 2. Top Card
                cardHtml += `
                    <a href="#${category.id}" class="section-anchor block p-6 ${cardBg} rounded-xl shadow-md hover:shadow-xl transition duration-300 transform hover:-translate-y-1 border ${cardBorder} ${cardHoverBorder} text-center">
                        <div class="flex flex-col items-center">
                            ${generateIconHtml(category.icon, true)}
                            <h3 class="text-lg font-bold text-gray-800 mt-2">${category.title}</h3>
                        </div>
                    </a>
                `;

                // 3. Content Section
                contentHtml += `
                    <div id="${category.id}" class="section-anchor rounded-xl bg-white p-6 shadow-lg border border-gray-200 pt-12 -mt-12">
                        <div class="flex items-center mb-4">
                            ${generateIconHtml(category.icon, false)}
                            <h3 class="text-2xl font-bold ml-3 text-gray-800">${category.title}</h3>
                        </div>
                        <p class="text-gray-600 mb-6">${category.description}</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            ${category.tools.map(tool => `
                                <div class="p-6 bg-white rounded-xl shadow-lg border border-gray-200 hover:shadow-xl transition duration-300 transform hover:scale-[1.02] flex flex-col h-full">
                                    <div class="flex justify-between items-start mb-4">
                                        <h4 class="text-xl font-bold text-gray-800 leading-tight pr-4" style="max-width: 75%;">${tool.name}</h4> 
                                        <span class="text-xs font-semibold px-3 py-1 rounded-full ${tagBg} ${tagText} uppercase flex-shrink-0 mt-0.5">${getToolTag(tool.type)}</span>
                                    </div>
                                    <p class="text-sm text-gray-600 mb-4">${tool.description}</p>
                                    <div class="p-3 mb-4 rounded-lg ${tipBg} border ${tipBorder}">
                                        <p class="text-xs font-semibold ${tipTitleColor} mb-1">Tips to Use:</p>
                                        <p class="text-sm text-gray-700">${tool.tip}</p>
                                    </div>
                                    <div class="flex items-center justify-between mt-auto">
                                        <span class="text-sm font-medium ${tool.status === 'Active' ? 'text-green-600' : 'text-gray-400'}">Status: ${tool.status}</span>
                                        <a href="${tool.link}" target="_blank" style="background-color: ${primaryColorHex};" class="py-2 px-4 rounded-lg font-semibold text-white hover:opacity-90 transition duration-200 text-center ${tool.status !== 'Active' ? 'opacity-50 cursor-not-allowed pointer-events-none' : ''}">Start Using</a>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            });

            navContainer.innerHTML = navHtml;
            cardContainer.innerHTML = cardHtml;
            contentContainer.innerHTML = contentHtml;

            // Store active class for scroll spy
            window.activeNavClass = navActiveClass;
            handleScroll();
        }

        // --- 3. TAB LOGIC ---
        function switchTab(tabId, clickedBtn) {
            activeTabId = tabId;
            activeData = tabId === 'pre-sales' ? PRE_SALES_DATA : POST_SALES_DATA;
            
            // Reset Tabs
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('tab-active-orange', 'tab-active-burgundy', 'bg-gray-50');
                btn.classList.add('text-gray-500');
            });

            // Activate Clicked Tab
            const activeClass = tabId === 'pre-sales' ? 'tab-active-orange' : 'tab-active-burgundy';
            clickedBtn.classList.add(activeClass, 'bg-gray-50');
            clickedBtn.classList.remove('text-gray-500');

            renderEngineContent(activeData, tabId);
            
            // Scroll to main content (just below the tabs)
            const exploreSection = document.getElementById('explore');
            if(exploreSection) exploreSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        // --- 4. UTILITIES ---
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        function setDynamicYear() {
            const currentYear = new Date().getFullYear();
            const footerElement = document.getElementById('copyright-text');
            if (footerElement) {
                const originalText = footerElement.innerHTML;
                footerElement.innerHTML = originalText.replace('&copy;', `&copy; ${currentYear}`);
            }
        }

        function handleScroll() {
            const backToTopButton = document.getElementById('back-to-top');
            
            if (window.scrollY > 300) {
                backToTopButton.classList.remove('invisible', 'opacity-0');
                backToTopButton.classList.add('visible', 'opacity-100');
            } else {
                backToTopButton.classList.remove('visible', 'opacity-100');
                backToTopButton.classList.add('invisible', 'opacity-0');
            }

            // Scroll Spy Logic
            if (activeData.length === 0) return;
            
            const sections = document.querySelectorAll('#engine-content > div.section-anchor');
            const navLinks = document.querySelectorAll('.side-nav-item');
            const scrollOffset = 250; 

            let currentId = null;

            for (let i = sections.length - 1; i >= 0; i--) {
                const rect = sections[i].getBoundingClientRect();
                if (rect.top <= scrollOffset) {
                    currentId = sections[i].id;
                    break;
                }
            }
            
            if (!currentId && activeData.length > 0) {
                // If scroll is near the top, highlight the first item
                const exploreRect = document.getElementById('explore').getBoundingClientRect();
                if (exploreRect.top <= scrollOffset) {
                    currentId = activeData[0].id;
                }
            }


            // Apply active styles
            const navActiveClass = window.activeNavClass || 'nav-active';
            navLinks.forEach(link => {
                link.className = 'side-nav-item block text-sm px-3 py-1.5 font-medium text-gray-700 hover:bg-gray-100 rounded transition duration-150'; // Reset
                
                if (link.dataset.sectionId === currentId) {
                    link.classList.add(...navActiveClass.split(' ')); // Apply dynamic active class
                    link.classList.remove('text-gray-700', 'hover:bg-gray-100');
                }
            });
        }

        window.onload = () => {
            setDynamicYear();
            
            // Initialize with Pre-Sales and set active tab style
            const preSalesBtn = document.getElementById('tab-pre-sales');
            preSalesBtn.classList.add('tab-active-orange', 'bg-gray-50');
            preSalesBtn.classList.remove('text-gray-500');
            switchTab('pre-sales', preSalesBtn); 
            
            window.onscroll = handleScroll; 
        };
    </script>
</body>
</html>
